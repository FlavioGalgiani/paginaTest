<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Comunicazione LEA</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 40px;
      background: #ffffff;
      color: #000;
    }
    .container {
      max-width: 1024px;
      margin: 0 auto;
    }
    .header {
      border-bottom: 4px solid #0097a9;
      padding-bottom: 30px;
      margin-bottom: 20px;
    }
    .header-inner {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
    }
    .logo {
      width: 160px;
      margin-top: 20px;
    }
    .logo img {
      width: 100%;
      height: auto;
      display: block;
    }
    .header-date {
      font-size: 10pt;
      margin-bottom: -15px;
    }
    .main-content {
      display: flex;
      margin-top: 10px;
    }
    .title-label {
      width: 240px;
      font-weight: bold;
      color: #0097a9;
      font-size: 12pt;
      line-height: 1.4;
      padding-top: 0;
    }
    .right-content {
      flex: 1;
    }
    .title-text {
      font-size: 11pt;
      line-height: 1.5;
      padding-top: 0;
      max-width: 760px;
    }
    .date-box {
      background-color: #b6dee5;
      padding: 30px;
      text-align: center;
      width: 600px;
      font-size: 12pt;
      font-weight: normal;
      border-radius: 4px;
      margin-top: 4px;
    }
    .date-line {
      margin: 0;
      line-height: 1.5;
    }
    .date-line strong {
      font-size: 13pt;
      font-weight: bold;
    }
    .divider {
      border-bottom: 4px solid #0097a9;
      margin-bottom: 10px;
      margin-top: 25px;
    }
    .section-title {
      font-weight: bold;
      color: #0097a9;
      font-size: 12pt;
      margin-bottom: 10px;
    }
    .disclaimer {
      font-size: 11pt;
      line-height: 1.6;
      margin-top: 30px;
      padding-left: 240px;
      padding-right: 0;
      box-sizing: border-box;
      text-align: justify;
    }
    .boxes-container {
      display: flex;
      margin-top: 10px;
    }
    .boxes-label {
      width: 240px;
    }
    .boxes-wrapper {
      flex: 1;
    }
    .boxes-wrapper > p {
      margin-top: 0;
    }
    .boxes {
      display: flex;
      justify-content: space-evenly;
      margin-top: 12px;
    }
    .box {
      background-color: #eeeeee;
      padding: 20px;
      width: 31%;
      font-size: 10.5pt;
      text-align: center;
      box-sizing: border-box;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100px;
    }
    .footer {
      font-size: 9pt;
      color: #0097a9;
      margin-top: 60px;
      padding-top: 10px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      flex-wrap: wrap;
    }
    .footer > div {
      width: 25%;
      text-align: left;
    }
    .footer .right {
      text-align: right;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="header-inner">
        <div class="logo">
          <img src="https://raw.githubusercontent.com/FlavioGalgiani/paginaTest/main/LEA-Logo.jpg" alt="LEA Logo">
        </div>
        <div class="header-date" id="intestazione">Locarno, [DATA]</div>
      </div>
    </div>

    <div class="main-content">
      <div class="title-label">
        Sospensione<br>
        erogazione acqua<br>
        potabile
      </div>
      <div class="right-content">
        <div class="title-text">
          A seguito di lavori sulla rete di distribuzione verrà <strong>sospesa l’erogazione di acqua potabile</strong> il giorno:
        </div>
        <div class="date-box" id="riquadro">
          <!-- Dati inseriti via JS -->
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <div class="boxes-container">
      <div class="boxes-label">
        <div class="section-title">Disposizioni</div>
      </div>
      <div class="boxes-wrapper">
        <p>Prima della sospensione dell’acqua potabile, si invita l’utenza a voler osservare le seguenti disposizioni:</p>
        <div class="boxes">
          <div class="box">Stoccare dell’acqua per eventuali urgenze</div>
          <div class="box">Chiudere i rubinetti d’entrata principali</div>
          <div class="box">Disinserire eventuali apparecchi alimentati con acqua potabile (lavastovigli, lavatrici, ecc)</div>
        </div>
      </div>
    </div>

    <div class="disclaimer">
      Al termine della sospensione aprire lentamente i rubinetti principali (es. vasca da bagno, giardini, etc.) ed in seguito i rubinetti d’erogazione interni. Questa procedura eliminerà l’aria ed eventuali intorbidimenti che potrebbero presentarsi. Non da ultimo si consiglia la verifica del filtro in entrata (se presente) e dei “Neoperl” (aeratore-filtro sul rubinetto).<br><br>
      <strong>Ringraziamo l’utenza per la comprensione e la collaborazione.</strong>
    </div>

    <div class="footer">
      <div style="width: 32%;">
        <strong>Locarnese Ente Acqua</strong><br>
        Piazza Grande 3, Casella postale, 6601 Locarno
      </div>
      <div style="text-align: left; width: 23%;">
        T +41 91 601 83 00
      </div>
      <div style="text-align: left; width: 20%;">
        <a href="mailto:info@lea-ti.ch">info@lea-ti.ch</a>
      </div>
      <div class="right" style="width: 25%;">
        <a href="https://www.lea-ti.ch">lea-ti.ch</a>
      </div>
    </div>
  </div>

  <script>
    const p = new URLSearchParams(window.location.search);
    const intestazione = p.get("intestazione") || "";
    const giorno = p.get("giorno") || "";
    const data = p.get("data") || "";
    const orario = p.get("orario") || "";

    document.getElementById("intestazione").textContent = intestazione;

    const riquadro = `
      <div class="date-line">${giorno.toUpperCase()}</div>
      <div class="date-line"><strong>${data}</strong></div>
      <div class="date-line">${orario}</div>
    `;
    document.getElementById("riquadro").innerHTML = riquadro;
  </script>

<script>
  const p = new URLSearchParams(window.location.search);
  const intestazione = p.get("intestazione") || "";
  const giorno = p.get("giorno") || "";
  const data = p.get("data") || "";
  const orario = p.get("orario") || "";

  const translations = {
    it: {
      label: "Sospensione<br>erogazione acqua<br>potabile",
      text: "A seguito di lavori sulla rete di distribuzione verrà <strong>sospesa l’erogazione di acqua potabile</strong> il giorno:",
      dispoTitle: "Disposizioni",
      dispoText: "Prima della sospensione dell’acqua potabile, si invita l’utenza a voler osservare le seguenti disposizioni:",
      box1: "Stoccare dell’acqua per eventuali urgenze",
      box2: "Chiudere i rubinetti d’entrata principali",
      box3: "Disinserire eventuali apparecchi alimentati con acqua potabile (lavastovigli, lavatrici, ecc)",
      disclaimer: "Al termine della sospensione aprire lentamente i rubinetti principali (es. vasca da bagno, giardini, etc.) ed in seguito i rubinetti d’erogazione interni. [...]"
    },
    en: {
      label: "Interruption<br>of drinking water<br>supply",
      text: "Due to maintenance work, <strong>the drinking water supply will be interrupted</strong> on the following date:",
      dispoTitle: "Instructions",
      dispoText: "Before the water supply interruption, users are asked to observe the following:",
      box1: "Store water for emergencies",
      box2: "Close main water intake valves",
      box3: "Disconnect appliances using tap water (dishwashers, washing machines, etc.)",
      disclaimer: "After the interruption, slowly open the main taps (e.g., bathtub, garden), then open interior taps. [...]"
    },
    fr: {
      label: "Interruption<br>de l'eau potable",
      text: "En raison de travaux, <strong>l'approvisionnement en eau potable sera interrompu</strong> le jour suivant:",
      dispoTitle: "Consignes",
      dispoText: "Avant l'interruption, veuillez respecter les consignes suivantes:",
      box1: "Stocker de l'eau pour les urgences",
      box2: "Fermer les robinets d'arrivée principaux",
      box3: "Débrancher les appareils alimentés par l'eau (lave-vaisselle, machines à laver, etc.)",
      disclaimer: "Après l'interruption, ouvrez lentement les robinets principaux (ex. baignoire, jardin), puis les robinets intérieurs. [...]"
    },
    de: {
      label: "Unterbrechung<br>der Trinkwasserversorgung",
      text: "Aufgrund von Arbeiten wird die <strong>Trinkwasserversorgung am folgenden Tag unterbrochen</strong>:",
      dispoTitle: "Hinweise",
      dispoText: "Vor der Unterbrechung bitten wir die Nutzer, Folgendes zu beachten:",
      box1: "Wasser für Notfälle bevorraten",
      box2: "Hauptwasserhähne schließen",
      box3: "Geräte, die Wasser verwenden, ausschalten (Spülmaschinen, Waschmaschinen, etc.)",
      disclaimer: "Nach der Unterbrechung öffnen Sie langsam die Hauptwasserhähne (z.B. Badewanne, Garten) und anschließend die Wasserhähne im Haus. [...]"
    }
  };

  const mesi = {
    it: ["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],
    en: ["January","February","March","April","May","June","July","August","September","October","November","December"],
    fr: ["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],
    de: ["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]
  };

  const giorniSettimana = {
    it: { lunedì: "LUNEDÌ", martedì: "MARTEDÌ", mercoledì: "MERCOLEDÌ", giovedì: "GIOVEDÌ", venerdì: "VENERDÌ", sabato: "SABATO", domenica: "DOMENICA" },
    en: { lunedì: "MONDAY", martedì: "TUESDAY", mercoledì: "WEDNESDAY", giovedì: "THURSDAY", venerdì: "FRIDAY", sabato: "SATURDAY", domenica: "SUNDAY" },
    fr: { lunedì: "LUNDI", martedì: "MARDI", mercoledì: "MERCREDI", giovedì: "JEUDI", venerdì: "VENDREDI", sabato: "SAMEDI", domenica: "DIMANCHE" },
    de: { lunedì: "MONTAG", martedì: "DIENSTAG", mercoledì: "MITTWOCH", giovedì: "DONNERSTAG", venerdì: "FREITAG", sabato: "SAMSTAG", domenica: "SONNTAG" }
  };

  const orarioFormattato = {
    it: (o) => o,
    en: (o) => o.replace("dalle", "from").replace("alle", "to"),
    fr: (o) => o.replace("dalle", "de").replace("alle", "à"),
    de: (o) => o.replace("dalle", "von").replace("alle", "bis")
  };

  const originalGiorno = giorno.toLowerCase();
  const originalIntestazione = intestazione;

  function renderRiquadro(lang) {
    const giornoTradotto = giorniSettimana[lang]?.[originalGiorno] || originalGiorno.toUpperCase();
    const orarioTradotto = orarioFormattato[lang](orario);
    document.getElementById("riquadro").innerHTML = `
      <div class="date-line">${giornoTradotto}</div>
      <div class="date-line"><strong>${data}</strong></div>
      <div class="date-line">${orarioTradotto}</div>
    `;
  }

  function renderIntestazione(lang) {
    const match = originalIntestazione.match(/(.*),\s(\d{1,2})\s([a-zè]+)\s(\d{4})/i);
    if (match) {
      const [_, luogo, giornoNum, meseIt, anno] = match;
      const indexMese = mesi.it.indexOf(meseIt.toLowerCase());
      const meseTradotto = mesi[lang][indexMese] || meseIt;
      document.getElementById("intestazione").textContent = `${luogo}, ${giornoNum} ${meseTradotto} ${anno}`;
    } else {
      document.getElementById("intestazione").textContent = originalIntestazione;
    }
  }

  function changeLanguage(lang) {
    const t = translations[lang];
    document.getElementById("titolo-label").innerHTML = t.label;
    document.getElementById("testo-testo").innerHTML = t.text;
    document.getElementById("titolo-dispo").textContent = t.dispoTitle;
    document.getElementById("paragrafo-dispo").textContent = t.dispoText;
    document.getElementById("box1").textContent = t.box1;
    document.getElementById("box2").textContent = t.box2;
    document.getElementById("box3").textContent = t.box3;
    document.getElementById("disclaimer").innerHTML = t.disclaimer;
    renderIntestazione(lang);
    renderRiquadro(lang);
  }

  const browserLang = navigator.language.slice(0, 2);
  const supportedLangs = ['it', 'en', 'fr', 'de'];
  changeLanguage(supportedLangs.includes(browserLang) ? browserLang : 'it');
</script>
</body>

</html>
